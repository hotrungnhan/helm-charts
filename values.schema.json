{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "type": "object",
    "properties": {
        "common": {
            "type": "object",
            "properties": {
                "annotations": {
                    "type": [
                        "object",
                        "null"
                    ]
                },
                "labels": {
                    "type": [
                        "object",
                        "null"
                    ]
                },
                "env": {
                    "type": [
                        "object",
                        "null"
                    ],
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "secret": {
                    "type": [
                        "object",
                        "null"
                    ],
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "image": {
                    "type": "object",
                    "properties": {
                        "registry": {
                            "type": "string",
                            "default": "registry-1.docker.io"
                        },
                        "repository": {
                            "type": "string",
                            "default": "traefik/whoami"
                        },
                        "tag": {
                            "type": "string",
                            "default": "latest"
                        }
                    }
                }
            }
        },
        "app": {
            "type": "object",
            "properties": {
                "enabled": {
                    "type": "boolean",
                    "default": true
                },
                "name": {
                    "type": "string"
                },
                "image": {
                    "type": "object",
                    "properties": {
                        "registry": {
                            "type": [
                                "string",
                                "null"
                            ]
                        },
                        "repository": {
                            "type": [
                                "string",
                                "null"
                            ]
                        },
                        "tag": {
                            "type": [
                                "string",
                                "null"
                            ]
                        },
                        "pullSecrets": {
                            "type": [
                                "array",
                                "null"
                            ],
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                },
                "commands": {
                    "type": [
                        "array",
                        "null"
                    ],
                    "items": {
                        "type": "string"
                    }
                },
                "args": {
                    "type": [
                        "array",
                        "null"
                    ],
                    "items": {
                        "type": "string"
                    }
                },
                "port": {
                    "type": [
                        "integer",
                        "null"
                    ]
                },
                "annotations": {
                    "type": [
                        "object",
                        "null"
                    ]
                },
                "labels": {
                    "type": [
                        "object",
                        "null"
                    ]
                },
                "ingress": {
                    "type": "object",
                    "properties": {
                        "enabled": {
                            "type": "boolean",
                            "default": false
                        },
                        "annotations": {
                            "type": [
                                "object",
                                "null"
                            ]
                        },
                        "labels": {
                            "type": [
                                "object",
                                "null"
                            ]
                        },
                        "className": {
                            "type": [
                                "string",
                                "null"
                            ]
                        },
                        "host": {
                            "type": [
                                "string",
                                "null"
                            ]
                        },
                        "path": {
                            "type": "string",
                            "default": "/"
                        },
                        "pathType": {
                            "type": [
                                "string",
                                "null"
                            ]
                        },
                        "tls": {
                            "type": [
                                "object",
                                "null"
                            ]
                        }
                    }
                },
                "replicas": {
                    "type": "object",
                    "properties": {
                        "autoScalingEnabled": {
                            "type": "boolean",
                            "default": true
                        },
                        "replicaCount": {
                            "type": "integer",
                            "default": 1
                        },
                        "minReplicas": {
                            "type": "integer",
                            "default": 0
                        },
                        "maxReplicas": {
                            "type": "integer",
                            "default": 3
                        },
                        "targetCPUUtilizationPercentage": {
                            "type": "integer",
                            "default": 70
                        },
                        "targetMemoryUtilizationPercentage": {
                            "type": "integer",
                            "default": 70
                        }
                    }
                },
                "resources": {
                    "type": [
                        "object",
                        "null"
                    ],
                    "properties": {
                        "limits": {
                            "type": [
                                "object",
                                "null"
                            ],
                            "properties": {
                                "cpu": {
                                    "type": "string",
                                    "default": "100m"
                                },
                                "memory": {
                                    "type": "string",
                                    "default": "128Mi"
                                }
                            }
                        },
                        "requests": {
                            "type": [
                                "object",
                                "null"
                            ],
                            "properties": {
                                "cpu": {
                                    "type": "string",
                                    "default": "100m"
                                },
                                "memory": {
                                    "type": "string",
                                    "default": "128Mi"
                                }
                            }
                        }
                    }
                },
                "env": {
                    "type": [
                        "object",
                        "null"
                    ],
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "secret": {
                    "type": [
                        "object",
                        "null"
                    ],
                    "additionalProperties": {
                        "type": "string"
                    }
                },
                "jobs": {
                    "type": "array",
                    "items": {
                        "type": "object",
                        "properties": {
                            "enabled": {
                                "type": "boolean",
                                "default": true
                            },
                            "name": {
                                "type": "string"
                            },
                            "image": {
                                "type": "object",
                                "properties": {
                                    "registry": {
                                        "type": [
                                            "string",
                                            "null"
                                        ]
                                    },
                                    "repository": {
                                        "type": [
                                            "string",
                                            "null"
                                        ]
                                    },
                                    "tag": {
                                        "type": [
                                            "string",
                                            "null"
                                        ]
                                    },
                                    "pullSecrets": {
                                        "type": [
                                            "array",
                                            "null"
                                        ],
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "commands": {
                                "type": [
                                    "array",
                                    "null"
                                ],
                                "items": {
                                    "type": "string"
                                }
                            },
                            "args": {
                                "type": [
                                    "array",
                                    "null"
                                ],
                                "items": {
                                    "type": "string"
                                }
                            },
                            "events": {
                                "type": "array",
                                "items": {
                                    "type": "string",
                                    "enum": [
                                        "pre-install",
                                        "post-install",
                                        "pre-delete",
                                        "post-delete",
                                        "pre-upgrade",
                                        "post-upgrade",
                                        "pre-rollback",
                                        "post-rollback",
                                        "test",
                                        "test-success",
                                        "test-failure"
                                    ]
                                },
                                "uniqueItems": true
                            },
                            "env": {
                                "type": [
                                    "object",
                                    "null"
                                ],
                                "additionalProperties": {
                                    "type": "string"
                                }
                            },
                            "secret": {
                                "type": [
                                    "object",
                                    "null"
                                ],
                                "additionalProperties": {
                                    "type": "string"
                                }
                            },
                            "resources": {
                                "type": "object",
                                "properties": {
                                    "limits": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "type": "string",
                                                "default": "100m"
                                            },
                                            "memory": {
                                                "type": "string",
                                                "default": "128Mi"
                                            }
                                        }
                                    },
                                    "requests": {
                                        "type": "object",
                                        "properties": {
                                            "cpu": {
                                                "type": "string",
                                                "default": "100m"
                                            },
                                            "memory": {
                                                "type": "string",
                                                "default": "128Mi"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "extras": {
                    "type": [
                        "array",
                        "null"
                    ],
                    "items": {
                        "type": "object"
                    }
                }
            }
        },
        "workers": {
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "enabled": {
                        "type": "boolean",
                        "default": true
                    },
                    "name": {
                        "type": "string"
                    },
                    "labels": {
                        "type": [
                            "object",
                            "null"
                        ]
                    },
                    "annotations": {
                        "type": [
                            "object",
                            "null"
                        ]
                    },
                    "image": {
                        "type": "object",
                        "properties": {
                            "registry": {
                                "type": [
                                    "string",
                                    "null"
                                ]
                            },
                            "repository": {
                                "type": [
                                    "string",
                                    "null"
                                ]
                            },
                            "tag": {
                                "type": [
                                    "string",
                                    "null"
                                ]
                            },
                            "pullSecrets": {
                                "type": [
                                    "array",
                                    "null"
                                ],
                                "items": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "commands": {
                        "type": [
                            "array",
                            "null"
                        ],
                        "items": {
                            "type": "string"
                        }
                    },
                    "args": {
                        "type": [
                            "array",
                            "null"
                        ],
                        "items": {
                            "type": "string"
                        }
                    },
                    "replicas": {
                        "type": "object",
                        "properties": {
                            "autoScalingEnabled": {
                                "type": "boolean",
                                "default": true
                            },
                            "replicaCount": {
                                "type": "integer",
                                "default": 1
                            },
                            "minReplicas": {
                                "type": "integer",
                                "default": 0
                            },
                            "maxReplicas": {
                                "type": "integer",
                                "default": 10
                            },
                            "targetCPUUtilizationPercentage": {
                                "type": "integer",
                                "default": 70
                            },
                            "targetMemoryUtilizationPercentage": {
                                "type": "integer",
                                "default": 70
                            }
                        }
                    },
                    "resources": {
                        "type": [
                            "object",
                            "null"
                        ],
                        "properties": {
                            "limits": {
                                "type": [
                                    "object",
                                    "null"
                                ],
                                "properties": {
                                    "cpu": {
                                        "type": "string",
                                        "default": "100m"
                                    },
                                    "memory": {
                                        "type": "string",
                                        "default": "128Mi"
                                    }
                                }
                            },
                            "requests": {
                                "type": [
                                    "object",
                                    "null"
                                ],
                                "properties": {
                                    "cpu": {
                                        "type": "string",
                                        "default": "100m"
                                    },
                                    "memory": {
                                        "type": "string",
                                        "default": "128Mi"
                                    }
                                }
                            }
                        }
                    },
                    "env": {
                        "type": [
                            "object",
                            "null"
                        ],
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "secret": {
                        "type": [
                            "object",
                            "null"
                        ],
                        "additionalProperties": {
                            "type": "string"
                        }
                    },
                    "affinity": {
                        "type": [
                            "object",
                            "null"
                        ]
                    },
                    "placement": {
                        "type": [
                            "object",
                            "null"
                        ]
                    },
                    "extras": {
                        "type": [
                            "array",
                            "null"
                        ],
                        "items": {
                            "type": "object"
                        }
                    }
                }
            }
        },
        "extras": {
            "type": [
                "array",
                "null"
            ],
            "items": {
                "type": "object"
            }
        }
    }
}